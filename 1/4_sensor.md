# 수행 목표
센서의 기본 개념과 IR센서에 대해 학습한다.

# 센서 학습
## 기구로서의 센서
### 1.센서의 정의 및 역할
- 센서(Sensor)란 외부 환경의 물리적, 화학적 정보를 감지하여 전기적 신호로 변환하는 장치이다.  
- 로봇 시스템에서 센서는 외부 환경을 인식하고 판단할 수 있게 해주며 위치, 속도, 거리 등을 정밀하게 측정하여 제어 시스템에 피드백을 제공한다. 또한 충돌, 온도, 빛 등 환경 변화에 반응해 로봇의 행동을 조정할 수도 있다.

### 2.센서의 유형과 용도
- 거리 센서: 주로 장애물 회피 및 경로 계획을 위해  사용된다.  
     - 라이다(LiDAR): 레이저 펄스를 발사하여 반사된 빛을 분석해 이미지화하는 센서이다.(정확도가 매우 높고, 고정밀 3D스캔이 가능하다.)  
     - 레이다(RADAR): 전파(마이크로파)를 발사하고, 물체에 반사된 전파를 수신하는 센서이다.(여러 기상 조건에 강함, 도플러 효과를 이용하여 속도 측정도 가능하다.)  
     - 적외선(IR): 적외선 빛을 이용하여 물체와의 거리를 측정하거나, 물체를 감지하는 센서이다.(단거리 감지에 유리, 저렴, 어두운 환경에서도 정상작동)  
     - 초음파: 초음파를 사용하여 물체와의 거리를 측정하는 센서이다.  
- 가속/자이로 센서: 주로 자세제어 및 회전 감지에 사용된다.  
     - IMU: 물체에 작용하는 가속력과 진동력, 충격력 등 동적 힘이 발생했을 때, 움직임의 변화에 따른 가속도를 가속도 센서가 감지해 낸다.
     감지해 낸 가속도를 시간에 대해 적분하여 물체의 진행 방향에 대한 속도를 계산할 수 있다.  
     물체의 회전 변화량인 각속도(rad/s)를 각속도 센서가 감지해 낸다.
     감지해 낸 각속도를 시간에 대해 적분하여 회전한 각도(=회전량)를 얻을 수 있다.  
- 광 센서: 주로 라인 트레이싱 및 조도 감지에 사용된다. 
     - 포토트랜지스터: 빛에 반응하는 트랜지스터이다. 일반 트랜지스터처럼 전류를 증폭할 수 있지만, 베이스(Base)에 전류 대신 빛이 들어오는 구조이다. 따라서 빛이 많을 수록 전류가 많이 흐른다.  
     - 라이트 센서: 빛의 밝기를 측정하는 센서로, 보통 광센서라고 부른다. 밝기의 세기를 정량적으로 측정하기 때문에 스마트폰 밝기 조절 등에 주로 사용된다.
 
### 3.센서 신호의 유형 - 아날로그 신호와 디지털 신호
- 아날로그 신호: 연속적인 값을 가지는 신호이며 정밀 제어나 센서 감도 조정이 필요한 경우에 사용된다.  
- 디지털 신호: 이진값(0/1)으로 표현된다.  

### 4.센서의 해상도와 정확도
- 해상도: 센서가 구별할 수 있는 최소 단위 변화이다. (만약 라이다 센서의 각도 해상도가 0.5도인 경우 한바퀴를 돌며 720개의 점을 측정한다는 의미 이다.)  
- 정확도: 실제 값과 센서의 측정값 사이의 오차이다.  

### 5.응답 시간과 샘플링 속도
- 응답 시간: 센서가 자극을 인지하고 출력을 변경하는데 걸리는 시간으로 빠를수록 실시간 제어에 유리하다.  
- 샘플링 속도: 센서가 1초 동안 데이터를 얼마나 자주 측정하는지 나타낸다. (100Hz는 초당 100번 데이터를 샘플링한다는 의미이다.) 

### 6.센서의 노이즈와 필터링
- 노이즈 
     - 측정값에 포함된 불필요하거나 왜곡된 신호이다.
     - 외부 전기적 간섭, 센서 내부 회로의 불안정성 등으로 인해 발생하며 이동 로봇에서 진동, LED 조명 간섭 등이 원인이 될 수 있다.  
- 필터링 기법
     - RC 저역통과 필터: 저항, 커패시터를 이용하여 일정 주파수 이상의 고주파 노이즈를 제거한다.
     - 이동 평균 필터: N개의 센서 값을 평균 내어 급격한 스파이크 제거에 효과적이다.
     - 가우시안 필터: 이동 평균보다 부드러운 가중치를 적용해 필터링 한다.(주로 영상 처리에서 사용된다.)
     - 칼만 필터: 센서 측정값과 예측 모델을 결합해 노이즈가 포함된 데이터를 더 정확하게 추정해준다.
     - 저역통과 필터: 수학적으로 이전 값과 현재 값을 일정 비율로 섞는 방식이다.

## IR(적외선) 센서
### 1.IR센서의 기본 원리
- 적외선을 발사하여 물체에 반사된 빛을 포트트랜지스터가 감지하여 거리를 측정

### 2.IR센서의 구성 요소
- IR LED: 일정 파장의 적외선을 발사  
- 포토트랜지스터/포토다이오드: 물체에 반사된 적외선을 감지  
- 증폭기 및 비교기 회로: 감지된 신호를 증폭하거나 디지털화  

### 3.라인 트레이싱을 위한 라인 감지에 적합한 IR센서의 특성
- 반사율의 차이를 활용해 흰색 라인(높은 반사)과 검은색 배경(낮은 반사)을 구별  
- 응답 속도가 빠르며, 적은 전력을 소모한다.  
- 아날로그 출력형은 정밀 제어에, 디지털 출력형은 간단한 경로 인식을 위해 사용된다.  

### 4.IR센서의 신호 처리
- 아날로그 IR 센서는 ADC(아날로그-디지털 변환기)를 통해 마이크로 컨트롤러가 처리한다.  
- 디지털 IR 센서는 바로 1/0신호를 출력  

### 5.IR센서의 배치 시에 유의할 사항
- 반사 강도가 일정하게 유지될 수 있도록 지면과 일정 거리를 확보해야 한다.  
- 외부 적외선(햇빛, 조명)에 영향을 받지 않도록 차광 설계가 필요하다.  
- 센서가 수직으로 배치되지 않으면 오작동할 수 있기 때문에 각도를 잘 고려해야 한다.  
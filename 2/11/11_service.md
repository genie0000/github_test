수행목표
ROS2의 서비스에 대해서 알아보고, 서비스 서버와 클라이언트를 파이썬으로 구현한다.

수행단계
ROS2의 서비스에 대해서 알아본다.

ROS2의 서비스의 서버 - 클라이언트 구조가 익숙하지 않다면 서버/클라이언트 상호작용 형식의 응용 프로그램 구조에 대해서도 확인한다.

명령행을 사용해 ROS2의 노드에서 제공하는 서비스의 목록을 확인하는 방법, 서비스를 호출하는데 필요한 정보를 확인하는 방법과 서비스를 호출하는 방법을 조사한다.

demo_nodes_cpp패키지의 add_two_ints_server 노드를 실행하고, 이 노드가 제공한 서비스를 확인한 후, 명령행으로 서비스를 호출해 보자. 이 과정도 별도로 기록한 후 정리한다.

노드를 제어하는 과정에서 노드 제어 프로그램을 처리되지 않은 예외가 발생하지 않고 정상적으로 종료 시키는 방법을 찾는다.

ROS2 파이썬 프로그램에서 호출된 서비스를 처리하거나 다른 노드의 서비스를 호출하는 방법을 조사한다.

이 과정에서 필요한 파이썬 비동기 처리 방식에 대해서 조사한다.

이전 문제의 제어 노드 프로그램에 다음과 같이 동작하는 서비스 서버와 클라이언트를 추가 구현해보자.
(turtle_move_control.py)

turtlesim 노드는 /kill 서비스를 제공한다. 이 서비스를 호출하는 서비스 클라이언트를 추가한다.

이전 프로그램에서 만든 제어 노드 프로그램에 /quit 서비스를 추가한다. /quit 서비스가 전달되면 제어 노드 프로그램이 종료하고, turtlesim의 /kill 서비스를 클라이언트를 통해 호출해 시뮬레이터 화면에 로봇을 지우고 빈 화면을 만든다.

/kill 서비스를 호출한 후, 서비스 호출 결과가 반환되는 동안에도 turtle_move_control 노드는 계속 하던 일을 수행해야 한다.

이 과정에서 처리되지 않은 예외가 발생하지 않아야 한다.

구현한 프로그램을 실행한 후 명령행에서 /quit 서비스를 호출하고, 그 결과를 확인한다.

조사한 내용을 형식 문서로 만들고 워크 스페이스 디렉토리를 압축해 함께 게시한다.

프로젝트 루트의 2/11 디렉토리를 생성한 후, 이 디렉토리 내에 문서 파일의 이름은 11_service.md(마크다운 파일의 경우)으로 저장, 게시한다. 워크스페이스 디렉토리를 압축한 파일도 함께 게시한다.